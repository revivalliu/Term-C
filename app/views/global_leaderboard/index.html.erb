<!DOCTYPE html>
<html>
<head>
  <title>TermC</title>
  <%= stylesheet_link_tag "application" %>
  <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
  <%= csrf_meta_tags %>
  <meta charset="utf-8">
</head>
<body>

<div class="container">
  <div class="jumbotron">
    <h1>Global Leaderboard</h1> 
  </div>
  <div class="container">
    <div id="lgCellResult" class="col-md-4">
      <h4 class="sub-header">Largest Cell</h4>
      <div class="table-responsive">
        <%
            index = 0
            @largest_cell.each do |match|
        %>
        <table class="table table-striped table-condensed">
          <thead>
          <tr>
            <th class="col-md-2">#</th>
            <th class="col-md-2">Player</th>
            <th class="col-md-2">Size</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td><%= index += 1 %></td>
            <td><%= match.session.user.email %></td>
            <td><%= match.highest_mass %></td>
          </tr>
          <tr>
          </tbody>
        </table>
        <% end %>
      </div>
    </div>

    <div id="longestLivingResult" class="col-md-4">
      <h4 class="sub-header">Longest Living Cell</h4>
      <div class="table-responsive">
        <%
           index = 0
           @longest_living_cell.each do |match|
        %>
        <table class="table table-striped table-condensed">
          <thead>
          <tr>
            <th class="col-md-1">#</th>
            <th class="col-md-1">Player</th>
            <th class="col-md-1">Time</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td><%= index += 1 %></td>
            <td><%= match.session.user.email %></td>
            <td><%= match.diff.split('.')[0] %></td>
          </tr>
          </tbody>
        </table>
        <% end %>
      </div>
    </div>

    <div id="longestLivingResult" class="col-md-4">
      <h4 class="sub-header">Most Food Eaten</h4>
      <div class="table-responsive">
        <%
           index = 0
           @most_food_eaten.each do |match|
        %>
        <table class="table table-striped table-condensed">
          <thead>
          <tr>
            <th class="col-md-1">#</th>
            <th class="col-md-1">Player</th>
            <th class="col-md-1">Count</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td><%= index += 1 %></td>
            <td><%= match.session.user.email %></td>
            <td><%= match.food_eaten %></td>
          </tr>
          </tbody>
        </table>
        <% end %>
      </div>
    </div>
  </div>

  <div class="container">
    <div id="mostPlayerEatenResult" class="col-md-4">
      <h4 class="sub-header">Most Players eaten</h4>
      <div class="table-responsive">
        <%
           index = 0
           @most_players_eaten.each do |match|
        %>
        <table class="table table-striped table-condensed">
          <thead>
          <tr>
            <th class="col-md-1">#</th>
            <th class="col-md-1">Player</th>
            <th class="col-md-1">Count</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td><%= index += 1 %></td>
            <td><%= match.session.user.email %></td>
            <td><%= match.players_eaten %></td>
          </tr>
          </tbody>
        </table>
        <% end %>
      </div>
    </div>

    <div id="leaderboardTime" class="col-md-4">
      <h4 class="sub-header">Most Time On Leaderboard</h4>
      <div class="table-responsive">
        <%
           index = 0
           @leaderboard_time.each do |match|
        %>
        <table class="table table-striped table-condensed">
          <thead>
          <tr>
            <th class="col-md-1">#</th>
            <th class="col-md-1">Player</th>
            <th class="col-md-1">Time</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td><%= index += 1 %></td>
            <td><%= match.session.user.email %></td>
            <td><%= match.leaderboard_time %></td>
          </tr>
          </tbody>
        </table>
        <% end %>
      </div>
    </div>

    <div id="highestTimeInGameResult" class="col-md-4">
      <h4 class="sub-header">Highest Time In Game</h4>
      <div class="table-responsive">
        <%
           index = 0
           @highest_time_in_game.each do |session|
        %>
        <table class="table table-striped table-condensed">
          <thead>
          <tr>
            <th class="col-md-1">#</th>
            <th class="col-md-1">Player</th>
            <th class="col-md-2">Time</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td><%= index += 1 %></td>
            <td><%= session.user.email %></td>
            <td><%= session.diff.split('.')[0] %></td>
          </tr>
          </tbody>
        </table>
        <% end %>
      </div>
    </div>

  </div>
</div>
</body>
</html>

